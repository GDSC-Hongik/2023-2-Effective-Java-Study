# 클래스와 멤버의 접근 권한을 최소화하라

- 잘 설계된 컴포넌트 → 내부 구현을 완벽히 숨김
    - 오직 API를 통해서만 다른 컴포넌트와 소통

## 정보 은닉(캡슐화)의 장점

- 시스템 개발 속도↑ : 여러 컴포넌트 병렬로 개발
- 시스템 관리 비용↓ : 디버깅 fast, 컴포넌트 교체 부담↓
- 성능 최적화에 도움 : 다른 컴포넌트에 영향x
- 소프트웨어 재사용성↑ : 독자적으로 동작할 수 있는 컴포넌트
- 큰 시스템 제작 난이도↓ : 전체가 완성되지 않은 상태에서 개별 컴포넌트 동작 검증 가능

## 모든 클래스와 멤버의 접근성을 가능한 한 좁혀야 한다

### 접근 제한자

- (가장 바깥) 톱레벨 클래스, 인터페이스 : package-private, public
    - 내부에 private static 중첩 : 바깥 클래스 하나에서만 접근 가능
- 범위가 좁은 것부터 순서대로 : `private`, `package-private`, `protected`, `public`
    - protected 멤버의 수는 적을수록 good : 영원한 지원 필요, 내부 동작 방식을 API 문서에 적어야할수도

### 방해 제약

- 상위 클래스의 메서드 재정의 → 상위 클래스에서보다 좁게 설정 불가능
    - 리스코프 치환 원칙을 지키기 위해 필요

### 코드 테스트

- private → package-private까지 범위 확장 허용
    - 테스트만을 위해 공개 API로 만들어서는 안된다

### public 클래스의 인스턴스 필드

- 되도록 public이 아니어야 한다
    - public 가변 필드를 갖는 클래스 → 스레드 안전x

### 상수

- public static final 필드로 공개해도 좋음
    - 반드시 기본 타입 값 or 불변 객체 참조

### 배열

- public static final 배열 필드를 두거나 이 필드를 반환하는 접근자 메서드를 제공해서는 안된다
- 해결책
    - public 배열을 private으로, public 불변 리스트 추가
    - 배열을 private으로 만들고 복사본을 반환하는 public 메서드 추가 (방어적 복사)

## 모듈 시스템의 도입

- 모듈 : 패키지들의 묶음
- 두가지 암묵적 접근 수준 추가 : JDK