# 멤버 클래스는 되도록 static으로 만들라

## 중첩 클래스

- 다른 클래스 안에 정의된 클래스

### 종류

- 정적 멤버 클래스
- (비정적) 멤버 클래스
- 익명 클래스
- 지역 클래스

```
💡 각각의 중첩 클래스를 언제, 왜 사용해야 하는지 알아보자
```

## 정적 멤버 클래스

- 다른 클래스 안에 선언 가능
- 바깥 클래스의 private 멤버에 접근 가능
- 바깥 클래스와 함께 쓰일 때만 유용한 public 도우미 클래스로 쓰임
- private 정적 멤버 클래스 → 바깥 클래스가 표현하는 객체의 한 부분을 나타날 때 사용 (구성요소)
    - Map에서서의 엔트리(Entry)

## 비정적 멤버 클래스

```
💡 멤버 클래스에서 바깥 인스턴스에 접근할 일이 없다면 무조건 static을 붙여서 정적 멤버 클래스로 만들자
```

- 인스턴스가 바깥 클래스의 인스턴스와 암묵적으로 연결됨
    - `this` → 바깥 인스턴스의 메서드 호출, 바깥 인스턴스의 참조 가져올 수 있음
- 비정적 멤버 클래스의 인스턴스와 바깥 인스턴스 사이의 관계
    - 멤버 클래스가 인스턴스화될 때 확립, 더 이상 변경되지 x
    - 관계 정보 → 비정적 멤버 클래스 인스턴스 내부에 생성, 메모리↑, 생성시간↑
- **어댑터** 정의할 때 자주 쓰임
    - 어떤 클래스의 인스턴스를 감싸 다른 클래스의 인스턴스처럼 보이게 하는 뷰로 사용
    - ex) 컬렉션 인터페이스 구현 → 반복자 구현 시 사용

## 익명 클래스

- 이름이 없음
- 바깥 클래스의 멤버도 아님
- 쓰이는 시점에 선언과 동시에 인스턴스 생성
- 비정적인 문맥 → 바깥 클래스의 인스턴스 참조 가능
- 정적인 문맥 → 상수 변수 이외의 정적 멤버 가질 수 x
    - 상수 표현을 위해 초기화된 final 기본 타입, 문자열 필드만 가질 수 있음
- 응용 시 제약↑
    - 선언 지점에서만 인스턴스 생성 가능
    - 클래스 이름이 필요한 작업 수행 x
    - 상위 타입에서 상속한 멤버 외에 호출 x
    - 짧지 않으면 가독성↓
- 람다에게 자리를 물려줌
- 정적 팩터리 메서드 구현 시 사용

## 지역 클래스

- 가장 드물게 사용
- 지역변수 선언 가능한 곳 어디서든 선언 가능
- 유효 범위도 지역변수와 동일
- 이름이 있고 반복해서 사용 가능
- 비정적 문맥에서만 바깥 인스턴스 참조 가능
- 정적 멤버 가질 수 x
- 가독성을 위해 짧게 작성