# Item 17. 변경 가능성을 최소화하라

내부 값을 수정할 수 없는 불변 클래스는 가변 클래스보다 설계, 구현, 사용이 쉽고 안전하다.  
불변 클래스를 만들기 위한 5가지 원칙이 있다.
1. 객체의 상태를 변경하는 메서드를 제공하지 않는다.  
흔히 setter라고 부르는 것들을 제공하지 않는 것을 말한다.  
2. 클래스를 확장할 수 없도록 한다.
3. 모든 필드를 final로 선언한다.
4. 모든 필드를 private으로 선언한다.
5. 자신 외에는 내부의 가변 컴포넌트에 접근할 수 없도록 한다.

### 불변 클래스의 특징
- 메서드는 값으 변경하지 않는다. 값이 바뀌어야 한다면 새로운 객체를 만들어 반환하므로 동사대신 전치사를 이름으로 한다.
- thread-safe 하므로 동기화할 필요가 없다.  
그렇기 떄문에 안심하고 재활용할 수 있다.
- 객체를 만들 때 다른 불변 객체들을 구성요소로 사용하면 좋다.
- 실패 원자성을 제공한다.  
메서드에서 예외가 발생해도 그 객체는 여전히 유효한 상태여야 한다.

### 불변 클래스 만드는 법
가장 쉬운 방법은 final 클래스로 선언하는 것이지만 유연하지 못하다.  
모든 생성자를 private or package-private으로 선언하고 public 정적 팩터리를 제공하는 것이다.