# Item 20. 추상 클래스보다는 인터페이스를 우선하라

자바가 제공하는 **다중 구현 메커니즘**은 두 가지가 있다.
1. 인터페이스
2. 추상 클래스

**둘의 차이**  
추상 클래스를 구현하는 클래스는 반드시 추상 클래스의 하위 클래스가 되어야 한다는 점이다.  
자바는 단일 상속만 지원하기 때문에 새로운 클래스를 만들 때 이는 제약이 된다.

### 기존 클래스에도 손쉽게 새로운 인터페이스를 구현해넣을 수 있다.
1. 인터페이스가 요구하는 메서드를 정의하고
2. implements 구문만 추가하면 된다.

반면, 기존 클래스에 추상 클래스를 얹는 것은 어렵다.  
하위 모든 클래스에서 이를 상속하게 되므로 부적절하다.

### 인터페이스는 믹스인 정의에 안성맞춤이다.
믹스인 : 클래스가 구현할 수 있는 타입  
- 원래의 주된 타입 외에도 특정 선택적 행위를 제공함을 선언
  - 추상 클래스로는 믹스인 정의가 불가능함

### 계층 구조 없는 타입 프레임워크를 만들 수 있다.
계층적인 구조가 좋을 때도 많지만, 현실에서 계층이 없는 구조를 계층적으로 구현하는 것은 부적절하다.

### 인터페이스의 default 메서드
구현 방법이 명확한 것은 default 메서드로 제공할 수 있다.  
default에도 제약이 있는데, equals나 hashcode를 디폴트로 제공해서는 안 된다는 점이다.

#### 두 인터페이스를 구현하는 경우 메소드 시그니쳐가 같은 케이스에서는 어떻게 해야할까?
##### 메서드 시그니처
메서드 시그니처란 메서드의 이름과 파라미터 리스트로 구성된다.  
예를 들어, 아래와 같은 인터페이스에서는 ```default void printInterfaceName()```가 메서드 시그니처에 해당한다.
```java
public interface InterfaceOne {
    default void printInterfaceName() {
        System.out.println("InterfaceOne");
    }
}
```
이 인터페이스를 구현하는 클래스에서는 재정의를 하지 않아도 default로 정의된 printInterfaceName 메서드를 사용할 수 있다.  
만약 두 개의 인터페이스를 구현하는 클래스가 있고, 나머지 하나의 인터페이스가 아래와 같다면?
```java
public interface InterfaceTwo {
    default void printInterfaceName() {
        System.out.println("InterfaceTwo");
    }
}
```
두 인터페이스에 같은 메서드 시그니처를 가진 메서드가 존재하고 심지어 모두 default로 선언되었다.  
우선 순위가 없기 때문에 충돌이 일어나 컴파일 에러를 발생시킨다.  
결국 이런 상황에서는 메서드 재정의가 필수적이다.

### 템플릿 메서드 패턴: 추상 골격 구현
인터페이스와 추상 클래스의 장점을 모두 취하는 방법
- 인터페이스로는 타입을 정의, 필요한 default 메서드도 제공
- 골격 구현 클래스에는 나머지 메서드들도 구현    

=> 단순히 골격 구현을 확장하는 것만으로 인터페이스 구현에 필요한 일이 모두 끝남