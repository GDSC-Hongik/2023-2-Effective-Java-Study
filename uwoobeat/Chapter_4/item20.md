# Item 20. 추상 클래스보다는 인터페이스를 우선하라

추상 클래스와 인터페이스는 비슷하지만 후자가 더 확장성 관점에서 좋다. 추상 클래스의 경우 상속 구조가 되기 때문에 이미 무언가를 상속받은 클래스라면 새로 넣으려고 하는 추상 클래스는 해당 클래스의 공통 조상이 되어야 하고, 자바는 다중 상속을 허용하지 않으므로 어려움이 있다. 그와 달리 인터페이스는 다양한 인터페이스를 믹스인 할 수 있으므로 확장성이 좋다.

상속에는 상위 클래스와 하위 클래스가 존재하며 클래스라는 것은 분류(classification)에서 온 것이다. 즉 상속을 통해서는 수직적 분리가 발생하지만 인터페이스는 수평적 분리가 발생한다. 수직적 분리는 어떠한 개념을 위계구조로 나눈다는 것은 상당히 어려운 일이다. 책에서 나온 예시처럼 가수와 작곡가를 수평적으로 나누는 것은 쉽지만 둘을 수직적으로 분리하는 것은 어떠한가? 물론 사람을 상속하는 가수, 작곡가, 싱어송라이터 셋을 만들 수 있겠지만 당연히 단일 상속을 허용하는 자바 특성 상 여기서 '춤을 춘다' 라는 속성이 추가되면 서브클래스는 3개에서 6개로 불어난다. 실질적으로 필요한 클래스는 거의 없더라도 말이다. 

인터페이스는 템플릿 메서드 패턴과 함께 엮이기도 한다. 책에서는 이런저런 예시를 언급했지만, 템플릿 메서드에 대해서 직관적으로 이해할 수 있는 예제가 있다. 내가 좋아하는 아래 치킨 조리기 인터페이스를 보자.

```java
public interface ChickenCook {
    void prepare();
    void fry();
    void serve();

    default void cook() {
        prepare();
        fry();
        serve();
    }
}
```

조리의 순서는 지키면서도 각각의 단계는 다양하게 커스터마이징할 수 있다. 일반 닭을 쓸 수도 양념된 닭을 쓸 수도 있고, KFC처럼 압력튀김기를 쓸 것인지 일반 튀김기를 쓸 것인지 결정할 수 있다. 또한 닭을 튀기는 시간도 다양하게 설정할 수 있다. 이렇게 템플릿 메서드 패턴을 통해 공통적인 로직을 추상화하고, 각각의 단계를 서브클래스에서 구현하도록 하는 것이 인터페이스의 장점이다.

사실 인터페이스에서 디폴트 메서드가 지원되기 전까지 템플릿 메서드 패턴은 추상 클래스만의 전유물이었다. 하지만 지금은 인터페이스 방식으로도 템플릿 메서드 패턴을 구현할 수 있다는 것을 알아두면 좋다.