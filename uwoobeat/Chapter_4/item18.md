# Item 18. 상속보다는 컴포지션을 사용하라

상속은 조심해서 사용해야 한다. 대부분의 경우 상속보다는 컴포지션을 사용하는 것이 낫다. 상위 클래스의 변경이 하위 클래스로 파급된다. 그리고 실질적으로 상속 관계가 복잡하게 얽혀있는 경우 이를 파악하는 것이 어려울 수 있다. 뿐만 아니라, 상속 관계를 만들기 위한 리스코프 치환 원칙을 준수하기가 어렵다. 위키피디아에서 리스코프 치환 원칙을 찾아보면 아주아주 복잡한 설명을 마주할 수 있다. 이렇게 복잡한 과정을 거쳐서 상속해도 될까? 를 고민하기 보다는 그냥 컴포지션을 사용하는 것이 좋다.

상속과 컴포지션은 흔히 is-a / has-a 관계로 설명된다. is-a 관계는 상속으로 표현하고, has-a 관계는 컴포지션으로 표현한다. is-a 관계는 하위 클래스가 상위 클래스의 한 종류라는 의미이다. has-a 관계는 클래스가 다른 클래스를 포함하고 있으며, 포함하는 클래스의 인스턴스는 포함되는 클래스의 인스턴스에 대한 참조를 가지고 있다는 의미이다.

컴포지션은 래퍼 클래스의 개념 그리고 데코레이터 패턴과도 연관이 되어 있다. 래퍼 클래스는 캡슐화적인 측면에 초점을 맞추었다고 보면 되고 데코레이터 패턴은 기능적인 측면에 초점을 맞추었다고 보면 된다. 


