### Item67 : 최적화는 신중히 하라

성능 최적화는 성공보다는 실패하기가 쉽다. 특히나 제대로 된 분석없이 섣불리 진행하면 더 그렇다. 이번 item에서는 최적화 작업을
하기 전에 고려해야 할 주의 사항들을 살펴보려고 한다

###### 빠른 프로그램보다 좋은 프로그램을 작성하자
좋은 구조 설계가 진행된 프로그램은 이후에 성능 상의 문제가 있더라도 해당 아키텍쳐 자체적으로 개선할 여지가 있다.
성능만을 생각하여 작성된 프로그램은 빠를 순 있으나 구조적 문제가 발생하는 경우 전체 프로그램 구조를 뜯어 고쳐야 하는 경우가 발생한다.
처음부터 안정된 설계를 통한 프로그램을 작성하면 후에 발생하는 성능 상의 문제는 충분히 구현을 통해 해결이 가능하다

###### 성능을 제한하는 설계를 피하라
프로그램 작성 초기 단계에 결정되면 이후에 변경하기 어려운 요소들 예컨대 컴포넌트 혹은 시스템 간의 통신 방법과 같은 요소들은
한 번 설계를 한 뒤에 개발에 착수하면 이후에 변경하는 것이 굉장히 어렵거나 불가능한 경우가 많으므로 설계에 유의해야 한다

###### API를 설계할 때 성능에 주는 영향을 고려하라 
- public api 중 외부에서도 변경 가능한 요소가 있다면 이를 위해 지속적인 '방어적 복사'가 필요하므로 성능에 영향을 준다
- 컴포지션을 사용할 수 있음에도 상속을 이용한 경우 해당 클래스는 영원히 상위 클래스에 종속되며 상위 클래스가 가지는 성능 상의 문제를 그대로 물려받게 된다
- 인터페이스 대신 구체 타입을 이용해서 코드를 작성한다면 이후 구현체 변경 시 어려움을 겪는다

###### 최적화를 했다면 최적화 전/후로 성능을 비교하자
최적화를 진행했다고 해서 끝난 것이 아니라 실제 성능 개선이 되었는지 확인해야 한다. 

## 핵심 정리
    최적화는 반드시 깊은 고민 후에 적용할 사항이다. 애초에 좋은 구조를 기반으로 작성한 프로그램이라면
    성능도 기대할 수 있을 것이다. 만약 최적화를 적용했다면 반드시 성능 개선 여부를 확인하자